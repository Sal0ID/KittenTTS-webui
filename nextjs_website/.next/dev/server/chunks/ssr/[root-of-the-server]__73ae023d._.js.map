{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/serg/Desktop/pythonProjects/KittenTTS_webui/nextjs_website/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useCallback } from \"react\";\n\nconst BACKEND_URL = \"http://localhost:5073\";\n\nconst MODELS = [\n  { value: \"KittenML/kitten-tts-mini-0.8\", label: \"kitten-tts-mini (80M)\" },\n  { value: \"KittenML/kitten-tts-micro-0.8\", label: \"kitten-tts-micro (40M)\" },\n  { value: \"KittenML/kitten-tts-nano-0.8\", label: \"kitten-tts-nano (15M)\" },\n  {\n    value: \"KittenML/kitten-tts-nano-0.8-int8\",\n    label: \"kitten-tts-nano-int8 (15M)\",\n  },\n];\n\nconst VOICES = [\n  \"Bella\",\n  \"Jasper\",\n  \"Luna\",\n  \"Bruno\",\n  \"Rosie\",\n  \"Hugo\",\n  \"Kiki\",\n  \"Leo\",\n];\n\nfunction Spinner() {\n  return (\n    <svg className=\"h-4 w-4 animate-spin\" viewBox=\"0 0 24 24\" fill=\"none\">\n      <circle\n        className=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      />\n      <path\n        className=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\"\n      />\n    </svg>\n  );\n}\n\nfunction PlayIcon() {\n  return (\n    <svg className=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <path d=\"M8 5v14l11-7z\" />\n    </svg>\n  );\n}\n\nfunction PauseIcon() {\n  return (\n    <svg className=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n      <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" />\n      <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" />\n    </svg>\n  );\n}\n\nfunction DownloadIcon() {\n  return (\n    <svg\n      className=\"h-4 w-4\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <path d=\"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4\" />\n      <polyline points=\"7 10 12 15 17 10\" />\n      <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\" />\n    </svg>\n  );\n}\n\nfunction ChevronDownIcon() {\n  return (\n    <svg\n      className=\"pointer-events-none absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-400\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    >\n      <polyline points=\"6 9 12 15 18 9\" />\n    </svg>\n  );\n}\n\nexport default function Home() {\n  const [text, setText] = useState(\"\");\n  const [model, setModel] = useState(MODELS[0].value);\n  const [voice, setVoice] = useState(\"Jasper\");\n  const [loading, setLoading] = useState(false);\n  const [audioUrl, setAudioUrl] = useState<string | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  const clearAudio = useCallback(() => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      audioRef.current = null;\n    }\n    setIsPlaying(false);\n    if (audioUrl) {\n      URL.revokeObjectURL(audioUrl);\n      setAudioUrl(null);\n    }\n  }, [audioUrl]);\n\n  const handleGenerate = async () => {\n    const input = text || \"The quick brown fox jumps over the lazy dog\";\n    setLoading(true);\n    setError(null);\n    clearAudio();\n\n    try {\n      const params = new URLSearchParams({ text: input, voice, model });\n      const res = await fetch(`${BACKEND_URL}/tts?${params.toString()}`);\n      if (!res.ok) {\n        const body = await res.json().catch(() => null);\n        throw new Error(body?.detail || \"TTS generation failed\");\n      }\n\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      setAudioUrl(url);\n    } catch (err) {\n      setError(\n        err instanceof Error\n          ? err.message\n          : \"Failed to generate audio. Is the backend running?\"\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const togglePlayback = () => {\n    if (!audioUrl) return;\n\n    // Pause: keep the audio element alive so we can resume\n    if (isPlaying && audioRef.current) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n      return;\n    }\n\n    // Resume existing audio if it hasn't finished\n    if (audioRef.current) {\n      audioRef.current.play();\n      setIsPlaying(true);\n      return;\n    }\n\n    // First play: create a new Audio element\n    const audio = new Audio(audioUrl);\n    audioRef.current = audio;\n    audio.play();\n    setIsPlaying(true);\n    audio.onended = () => {\n      setIsPlaying(false);\n      audioRef.current = null;\n    };\n  };\n\n  const handleDownload = () => {\n    if (!audioUrl) return;\n    const a = document.createElement(\"a\");\n    a.href = audioUrl;\n    a.download = \"output.wav\";\n    a.click();\n  };\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center bg-stone-100 px-4 py-12\">\n      <div className=\"w-full max-w-lg\">\n        {/* Card */}\n        <div className=\"rounded-2xl border border-stone-200 bg-white p-8 shadow-xl\">\n          {/* Header */}\n          <div className=\"mb-6 text-center\">\n            <h1 className=\"text-xl font-semibold tracking-tight text-stone-900\">\n              KittenTTS\n            </h1>\n            <p className=\"mt-1 text-sm text-stone-500\">\n              Generate speech from text\n            </p>\n          </div>\n\n          {/* Text input */}\n          <div>\n            <label className=\"mb-1.5 block text-xs font-medium uppercase tracking-wide text-stone-500\">\n              Text\n            </label>\n            <textarea\n              className=\"w-full resize-none rounded-xl border border-stone-200 bg-stone-50 px-4 py-3 text-sm text-stone-900 placeholder-stone-400 transition-colors focus:border-stone-400 focus:bg-white focus:outline-none\"\n              rows={3}\n              placeholder=\"The quick brown fox jumps over the lazy dog\"\n              value={text}\n              onChange={(e) => { setText(e.target.value); clearAudio(); }}\n            />\n          </div>\n\n          {/* Dropdowns */}\n          <div className=\"mt-4 grid grid-cols-2 gap-3\">\n            <div>\n              <label className=\"mb-1.5 block text-xs font-medium uppercase tracking-wide text-stone-500\">\n                Model\n              </label>\n              <div className=\"relative\">\n                <select\n                  className=\"w-full appearance-none rounded-xl border border-stone-200 bg-stone-50 px-3 py-2.5 pr-9 text-sm text-stone-900 transition-colors focus:border-stone-400 focus:bg-white focus:outline-none\"\n                  value={model}\n                  onChange={(e) => { setModel(e.target.value); clearAudio(); }}\n                >\n                  {MODELS.map((m) => (\n                    <option key={m.value} value={m.value}>\n                      {m.label}\n                    </option>\n                  ))}\n                </select>\n                <ChevronDownIcon />\n              </div>\n            </div>\n            <div>\n              <label className=\"mb-1.5 block text-xs font-medium uppercase tracking-wide text-stone-500\">\n                Voice\n              </label>\n              <div className=\"relative\">\n                <select\n                  className=\"w-full appearance-none rounded-xl border border-stone-200 bg-stone-50 px-3 py-2.5 pr-9 text-sm text-stone-900 transition-colors focus:border-stone-400 focus:bg-white focus:outline-none\"\n                  value={voice}\n                  onChange={(e) => { setVoice(e.target.value); clearAudio(); }}\n                >\n                  {VOICES.map((v) => (\n                    <option key={v} value={v}>\n                      {v}\n                    </option>\n                  ))}\n                </select>\n                <ChevronDownIcon />\n              </div>\n            </div>\n          </div>\n\n          {/* Divider */}\n          <div className=\"my-6 border-t border-stone-100\" />\n\n          {/* Buttons */}\n          <div className=\"flex items-center gap-2.5\">\n            <button\n              onClick={handleGenerate}\n              disabled={loading}\n              className=\"inline-flex flex-1 items-center justify-center gap-2 rounded-xl bg-[#2563eb] px-5 py-2.5 text-sm font-medium text-white shadow-sm transition-all hover:bg-[#1d4ed8] active:scale-[0.98] disabled:pointer-events-none disabled:bg-[#93b4f5] disabled:shadow-none\"\n            >\n              Generate\n              {loading && <Spinner />}\n            </button>\n\n            {audioUrl && (\n              <>\n                <button\n                  onClick={togglePlayback}\n                  title={isPlaying ? \"Pause\" : \"Play\"}\n                  className=\"inline-flex h-10 w-14 shrink-0 items-center justify-center rounded-xl bg-[#059669] text-white shadow-sm transition-all hover:bg-[#047857] active:scale-[0.95]\"\n                >\n                  {isPlaying ? <PauseIcon /> : <PlayIcon />}\n                </button>\n\n                <button\n                  onClick={handleDownload}\n                  title=\"Download\"\n                  className=\"inline-flex h-10 w-14 shrink-0 items-center justify-center rounded-xl bg-[#059669] text-white shadow-sm transition-all hover:bg-[#047857] active:scale-[0.95]\"\n                >\n                  <DownloadIcon />\n                </button>\n              </>\n            )}\n          </div>\n\n          {/* Error message */}\n          {error && (\n            <p className=\"mt-4 text-center text-sm text-red-600\">{error}</p>\n          )}\n        </div>\n\n        {/* Footer */}\n        <p className=\"mt-4 text-center text-xs text-stone-400\">\n          Powered by{\" \"}\n          <a\n            href=\"https://github.com/KittenML/KittenTTS\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"underline underline-offset-2 transition-colors hover:text-stone-600\"\n          >\n            KittenTTS\n          </a>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///home/serg/Desktop/pythonProjects/KittenTTS_webui/nextjs_website/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 587, "column": 0}, "map": {"version":3,"sources":["file:///home/serg/Desktop/pythonProjects/KittenTTS_webui/nextjs_website/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///home/serg/Desktop/pythonProjects/KittenTTS_webui/nextjs_website/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}